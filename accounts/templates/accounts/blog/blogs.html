{% extends "base.html" %}
{% block title %}Explore · MoodMate{% endblock %}

{% block content %}
<div class="space-y-20">


  <section class="space-y-6">

    <div class="flex justify-between items-end">
      <div>
        <h2 class="text-3xl font-bold">Gentle Reads</h2>
        <p class="text-[var(--muted)] max-w-xl">
          Curated articles to read slowly and thoughtfully.
        </p>
      </div>

      <a href="{% url 'explore' %}"
         class="text-sm font-medium text-[var(--primary)] hover:underline">
        View all →
      </a>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for a in articles %}
      <a href="{% url 'article_detail' a.id %}"
         class="group rounded-3xl overflow-hidden
                bg-[var(--surface)] border border-[var(--border)]
                hover:border-[var(--primary)] transition">

        {% if a.image %}
        <div class="aspect-[4/3] overflow-hidden">
          <img src="{{ a.image.url }}"
               alt="{{ a.title }}"
               class="w-full h-full object-cover
                      transition group-hover:scale-[1.03]">
        </div>
        {% endif %}

        <div class="p-5">
          <h3 class="text-lg font-semibold leading-snug">
            {{ a.title }}
          </h3>
        </div>
      </a>
      {% endfor %}
    </div>

  </section>


  <section class="space-y-6">

    <div class="flex justify-between items-end">
      <div>
        <h2 class="text-3xl font-bold">Community Voices</h2>
        <p class="text-[var(--muted)] max-w-xl">
          What others are feeling and sharing right now.
        </p>
      </div>

      <a href="{% url 'reflections_list' %}"
         class="text-sm font-medium text-[var(--primary)] hover:underline">
        See all →
      </a>
    </div>

    <div class="grid sm:grid-cols-2 gap-6">
      {% for r in reflections %}
      <div class="p-6 rounded-2xl
                  bg-[var(--surface)] border border-[var(--border)]">

        <p class="text-sm leading-relaxed">
          {{ r.text|truncatewords:30 }}
        </p>

        <p class="mt-3 text-xs text-[var(--muted)]">
          — {{ r.display_name }}
        </p>
      </div>
      {% endfor %}
    </div>

    <a href="{% url 'create_reflection' %}"
       class="inline-flex items-center gap-2
              text-sm font-medium text-[var(--primary)]
              hover:underline">
      Share yours →
    </a>

  </section>

</div>
{% endblock %}
