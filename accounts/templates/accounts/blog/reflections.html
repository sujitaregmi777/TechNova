{% extends "base.html" %}
{% block title %}Reflections · MoodMate{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto space-y-12 py-10">

  <!-- HEADER -->
  <header class="space-y-2">
    <h1 class="text-3xl font-bold">Reflections</h1>
    <p class="text-[var(--muted)]">
      Personal writings shared gently and anonymously.
    </p>
  </header>

  <!-- CTA -->
  <div>
    <a href="{% url 'create_reflection' %}"
       class="inline-block px-5 py-2 rounded-full
              bg-[var(--primary)] text-white font-medium">
      Write a reflection
    </a>
  </div>

  <!-- BLOG LIST -->
  <section class="space-y-10">

    {% for r in reflections %}
    <article
      class="flex gap-6 p-6 rounded-3xl
             bg-[var(--surface)] border border-[var(--border)]
             hover:border-[var(--primary)] transition">

      {% if r.image %}
      <div class="w-32 h-32 rounded-2xl overflow-hidden flex-shrink-0">
        <img src="{{ r.image.url }}"
             alt="{{ r.title }}"
             class="w-full h-full object-cover">
      </div>
      {% endif %}

      <div class="space-y-3">

        <h2 class="text-xl font-semibold leading-snug">
          <a href="{% url 'reflection_detail' r.id %}"
             class="hover:underline">
            {{ r.title }}
          </a>
        </h2>

        <p class="text-sm text-[var(--muted)] line-clamp-3">
          {{ r.text }}
        </p>

        <div class="text-xs text-[var(--muted)]">
          — {{ r.display_name }} ·
          {{ r.created_at|date:"M d, Y" }}
        </div>

      </div>
    </article>
    {% endfor %}

  </section>

</div>
{% endblock %}
