{% extends "base.html" %}
{% block title %}{{ reflection.title }} · MoodMate{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-16 space-y-14">

  <!-- ARTICLE -->
  <article class="space-y-10">

    {% if reflection.image %}
    <img
      src="{{ reflection.image.url }}"
      alt="{{ reflection.title }}"
      class="w-full h-80 object-cover rounded-3xl
             border border-[var(--border)]">
    {% endif %}

    <!-- HEADER -->
    <header class="space-y-4 max-w-2xl mx-auto text-center">
      <h1 class="text-3xl md:text-4xl font-semibold leading-tight">
        {{ reflection.title }}
      </h1>

      <p class="text-sm text-[var(--muted)]">
        — {{ reflection.display_name }} ·
        {{ reflection.created_at|date:"F d, Y" }}
      </p>
    </header>

    <!-- CONTENT -->
    <div
      class="max-w-2xl mx-auto
             text-base md:text-lg
             leading-relaxed md:leading-loose
             space-y-6">
      {{ reflection.text|linebreaks }}
    </div>

  </article>

  <!-- ACTIONS -->
  <div
    class="max-w-2xl mx-auto
           flex items-center justify-between
           pt-10 border-t border-[var(--border)]">

    <a href="{% url 'reflections_list' %}"
       class="text-sm text-[var(--muted)] hover:underline">
      ← Back to reflections
    </a>

    {% if user == reflection.author %}
    <a href="{% url 'edit_reflection' reflection.id %}"
       class="text-sm font-medium text-[var(--primary)] hover:underline">
      Edit reflection
    </a>
    {% endif %}

  </div>

</div>
{% endblock %}
